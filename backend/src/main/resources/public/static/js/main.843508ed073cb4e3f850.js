webpackJsonp([1],{"/9eV":function(t,e){},0:function(t,e,n){n("j1ja"),t.exports=n("NHnr")},"1aAT":function(t,e){},"7zck":function(t,e){},"8mW2":function(t,e){},A1ul:function(t,e){},BBbn:function(t,e){},CYFP:function(t,e){},Fu0e:function(t,e){},M2Wt:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),s=n("3EgV"),a=n.n(s),o=(n("7zck"),n("j1ja"),n("//Fk")),l=n.n(o),r=n("mtWM"),c=n.n(r),u=n("mvHQ"),d=n.n(u),v=n("NYxO");i.a.use(v.a);var f=new v.a.Store({state:{authenticated:{isAuthenticated:!1,access_token:"",refresh_token:"",error:"",user:{login:"",user:null,userName:"",organization:null,orgName:""}},lsItems:[],lsPageSize:0,lsUniq:null,lsUniqParam:[],lsUniqAdres:[],lsUniqHouse:[],lsUniqTenants:[],lsUniqArea:[],questionItems:[],questionPageSize:1,questionPage:1,questionRowsPerPage:7,profileUser:[],profileOrganisation:[],profileOrganisationUser:[],profileUserParam:[],allUserFile:[],contractItems:[],contractPageSize:0},mutations:{authenticated:function(t,e){h.auth(e).then(function(n){t.authenticated.isAuthenticated=!0,t.authenticated.user.login=e.login,t.authenticated.access_token=n.data.access_token,t.authenticated.refresh_token=n.data.refresh_token,h.setToken(t.authenticated.access_token),h.getCurrentUser().then(function(e){t.authenticated.user=e.data,localStorage.setItem("authenticated",d()(t.authenticated))})}).catch(function(e){localStorage.removeItem("authenticated"),t.authenticated.error=e,t.authenticated.isAuthenticated=!1})},isAuthenticated:function(t){""==t.authenticated.access_token&&null!=localStorage.getItem("authenticated")&&(t.authenticated=JSON.parse(localStorage.getItem("authenticated")),h.setToken(t.authenticated.access_token))},notAuthenticated:function(t){t.authenticated.isAuthenticated=!1},logout:function(t){localStorage.removeItem("authenticated"),t.authenticated.isAuthenticated=!1},setLs:function(t,e){t.lsItems=e.content,t.lsPageSize=e.totalPages},setLsUniq:function(t,e){t.lsUniq=e,t.lsUniqParam=[],t.lsUniqParam.push({key:"Код ЛС",value:t.lsUniq.knanim}),t.lsUniqParam.push({key:"Статус ЛС",value:t.lsUniq.status}),t.lsUniqParam.push({key:"Тип квартиры",value:t.lsUniq.pkNaim}),t.lsUniqParam.push({key:"Тип фонда",value:t.lsUniq.tipFond}),t.lsUniqAdres=[],t.lsUniqAdres.push({key:"Наименование улицы",value:t.lsUniq.house.street}),t.lsUniqAdres.push({key:"Номер дома",value:t.lsUniq.house.ndom}),t.lsUniqAdres.push({key:"Номер квартиры",value:t.lsUniq.nkv}),t.lsUniqTenants=[],t.lsUniqTenants.push({key:"Кол-во зарегистрированных",value:t.lsUniq.n}),t.lsUniqTenants.push({key:"Кол-во собственников",value:t.lsUniq.nown}),t.lsUniqTenants.push({key:"Кол-во временно зарегистрированных",value:t.lsUniq.nvr}),t.lsUniqArea=[],t.lsUniqArea.push({key:"Общая площадь ЛС",value:t.lsUniq.sqAll}),t.lsUniqArea.push({key:"Жилая площадь ЛС",value:t.lsUniq.sqGil}),t.lsUniqArea.push({key:"Площадь МОП",value:t.lsUniq.mop}),t.lsUniqHouse=[],t.lsUniqHouse=t.lsUniq.house},setQuestion:function(t,e){t.questionItems=e.question.content,t.questionPageSize=e.question.totalPages-1},setProfile:function(t,e){t.profileUser=[],t.profileOrganisation=[],t.profileOrganisationUser=[],t.profileUser.push({key:"Логин",value:e.singleUser.login}),t.profileUser.push({key:"ФИО",value:e.singleUser.fullName}),t.profileUser.push({key:"Email",value:e.singleUser.notificationEMail}),t.profileUser.push({key:"Телефон",value:e.singleUser.phone}),t.profileOrganisation.push({key:"ИНН",value:e.organization.inn}),t.profileOrganisation.push({key:"Имя организации",value:e.organization.orgName}),e.organization.singleUser.forEach(function(e){t.profileOrganisationUser.push({key:e.login,value:e.fullName})}),t.profileUserParam=e.userParam},setAllUserFiles:function(t,e){t.allUserFile=e},setContract:function(t,e){t.contractItems=e.pageList,t.contractPageSize=e.pageCount},getAuthenticated:function(t){return t.authenticated.isAuthenticated}},actions:{authenticated:function(t,e){t.commit("authenticated",e)},getLs:function(t,e){h.getLs(e).then(function(e){t.commit("setLs",e.data)}).catch(function(t){console.log(t)})},getLsUniq:function(t,e){h.getLsUniq(e).then(function(e){t.commit("setLsUniq",e.data)}).catch(function(t){console.log(t)})},getQuestion:function(t,e){h.getQuestion(e).then(function(e){t.commit("setQuestion",e.data)}).catch(function(t){console.log(t)})},addQuestion:function(t,e){return new l.a(function(t,e){return h.addQuestion.then(function(e){t(e)}).catch(function(t){console.log(t)})})},getProfile:function(t){return h.getProfile().then(function(e){t.commit("setProfile",e.data)}).catch(function(t){console.log(t)})},changePassword:function(t,e){return new l.a(function(t,e){h.changePassword.then(function(e){t(e)}).catch(function(t){e(t)})})},changeNotification:function(t,e){return new l.a(function(t,e){h.changeNotification.then(function(e){t(e)}).catch(function(t){e(t)})})},getAllUserFiles:function(t){h.get("/files/allfiles").then(function(e){t.commit("setAllUserFiles",e.data)})},getContract:function(t){h.getContract().then(function(e){t.commit("setContract",e.data)}).catch(function(t){console.log(t)})}}}),m=c.a.create({baseURL:"/api"});m.interceptors.response.use(function(t){return t},function(t){return 401===t.response.status&&(console.log("+++++++++++++++auth+++++++++"),f.commit("notAuthenticated")),l.a.reject(t)});var h={auth:function(t){return m.request({headers:{"Content-Type":"application/x-www-form-urlencoded"},auth:{username:"lcClient",password:"sjidghlksdjfghlksdjfghklsdjfghlskdjflskdf"},method:"POST",url:"http://91.203.194.42:8088/oauth/token?username="+t.login+"&password="+t.password+"&grant_type=password"})},setToken:function(t){return m.defaults.headers.common.Authorization="Bearer "+t},getCurrentUser:function(){return m.get("/operator")},getIssue:function(){return m.get("/issue")},getIssueForStatus:function(){return m.get("/issue/status")},getIssueUniq:function(t){return m.get("/issue/"+t)},issueClosed:function(t,e){return m.put("/issue/"+t+"?decision="+e)},issueEditStatus:function(t,e){return m.put("/issue/"+t+"/"+e)},issueEditWorker:function(t,e){return m.put("/issue/"+t+"/worker/"+e)},getIssueForWorker:function(t){return m.get("/issue/worker/"+t)},removeIssue:function(t){return m.delete("/issue/"+t)},editIssue:function(t){return m.put("/issue",t)},createIssue:function(t){return m.post("/issue",t)},getWorker:function(){return m.get("/worker")},removeWorker:function(t){return m.delete("/worker/"+t)},createWorker:function(t){return m.post("/worker",t)},getPosition:function(){return m.get("/position")},createPosition:function(t,e){return m.post("/position?name="+t+"&description="+e)},removePosition:function(t){return m.delete("/position/"+t)},editPosition:function(t,e,n){return m.put("/position/"+t+"?name="+e+"&description="+n)},createStatus:function(t){return m.post("/status",t)},getStatus:function(){return m.get("/status")},getStatusnotStart:function(){return m.get("/status/notStart")},editStatus:function(t){return m.put("/status",t)},removeStatus:function(t){return m.delete("/status/"+t)},getOperator:function(){return m.get("/operator/all")},createOperator:function(t){return m.post("/operator",t)},removeOperator:function(t){return m.delete("/operator/"+t)},editOperator:function(t){return m.put("/operator",t)},getRole:function(){return m.get("/operator/role")},getConfiguration:function(){return m.get("/configuration")},editConfiguration:function(t){return m.put("/configuration",t)}},p={data:function(){return{login:"sys",password:"123456",oldYear:(new Date).getFullYear()}},methods:{authenticated:function(){""!=this.login&&""!=this.password&&(this.$store.dispatch("authenticated",{login:this.login,password:this.password}),this.$router.push("/"))}}},g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"inspire"}},[n("v-content",[n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-layout",{attrs:{"align-center":"","justify-center":""}},[n("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[n("v-card",{staticClass:"elevation-12"},[n("v-toolbar",{staticStyle:{"text-align":"center"},attrs:{dark:"",color:"primary"}},[n("v-toolbar-title",[t._v("HelpDesk")]),t._v(" "),n("v-spacer")],1),t._v(" "),n("v-card-text",[n("v-form",[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs4:""}},[n("v-subheader",[t._v("Логин")])],1),t._v(" "),n("v-flex",{attrs:{xs8:""}},[n("v-text-field",{attrs:{label:"Логин",type:"text"},model:{value:t.login,callback:function(e){t.login=e},expression:"login"}})],1)],1),t._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs4:""}},[n("v-subheader",[t._v("Пароль")])],1),t._v(" "),n("v-flex",{attrs:{xs8:""}},[n("v-text-field",{attrs:{label:"Пароль",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1)],1)],1),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs6:"","offset-xs-6":""}},[n("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.authenticated()}}},[t._v("Войти")])],1)],1)],1)],1)],1)],1)],1)],1),t._v(" "),n("v-footer",{attrs:{color:"blue darken-2",height:"90",app:""}},[n("span",{staticClass:"white--text"},[t._v("© "+t._s(t.oldYear))])])],1)},staticRenderFns:[]};var _=n("VU/8")(p,g,!1,function(t){n("xIm6")},"data-v-22e71f1b",null).exports,x={data:function(){return{oldYear:(new Date).getFullYear(),drawer:null,items:[{text:"Главная",path:"/",icon:"home"},{text:"Заявки",path:"/issue",icon:"dialpad"},{text:"Отчеты",path:"/report",icon:"report"},{text:"Рассписание",path:"/schedule",icon:"call_split"},{text:"Настройки",children:[{text:"Общие",path:"/baseConfiguration",icon:"present_to_all"},{text:"Работники",path:"/worker",icon:"present_to_all"},{text:"Должности",path:"/position",icon:"present_to_all"},{text:"Операторы",path:"/operator",icon:"present_to_all"},{text:"Статусы",path:"/status",icon:"present_to_all"},{text:"История",path:"/historyUpload",icon:"present_to_all"}]}]}},computed:{orgName:function(){},userName:function(){}}},k={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"inspire"}},[n("v-navigation-drawer",{attrs:{fixed:"",app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[[n("center",[n("v-avatar",{attrs:{color:"blue darken-2"}},[n("v-icon",{attrs:{dark:""}},[t._v("account_circle")])],1),t._v(" "),n("br"),t._v(" "),n("v-chip",[t._v("Login : "),n("span",{staticStyle:{"font-weight":"bold","font-size":"15px"}},[t._v(" "+t._s(this.$store.state.authenticated.user.login))])])],1),t._v(" "),n("br"),t._v(" "),n("hr",{attrs:{size:"5"}}),t._v(" "),n("br"),n("br")],t._v(" "),n("v-spacer"),t._v(" "),t._l(t.items,function(e){return[n("v-list",{key:e.text,attrs:{dense:""}},[e.children?n("v-list-group",{key:e.text,attrs:{"prepend-icon":e.model?e.icon:e["icon-alt"],"append-icon":""},model:{value:e.model,callback:function(n){t.$set(e,"model",n)},expression:"item.model"}},[n("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[n("v-list-tile-content",[t._v("\n              "+t._s(e.text)+"\n            ")])],1),t._v(" "),t._l(e.children,function(e,i){return n("v-list-tile",{key:i,on:{click:function(n){t.$router.push(e.path||"/")}}},[n("v-list-tile-action",[n("v-icon",{attrs:{color:"primary"}},[t._v(t._s(e.icon))])],1),t._v(" "),n("v-list-tile-content",[t._v("\n              "+t._s(e.text)+"\n            ")])],1)})],2):n("v-list-tile",{on:{click:function(n){t.$router.push(e.path||"/")}}},[n("v-list-tile-action",[n("v-icon",{attrs:{color:"primary"}},[t._v(t._s(e.icon))])],1),t._v(" "),n("v-list-tile-content",[t._v("\n            "+t._s(e.text)+"\n          ")])],1)],1)]})],2),t._v(" "),n("v-toolbar",{attrs:{color:"blue darken-2",dark:"",fixed:"",app:""}},[n("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}})],1),t._v(" "),n("v-content",[n("v-container",{attrs:{fluid:"","grid-list-md":""}},[n("router-view")],1)],1),t._v(" "),n("v-footer",{attrs:{color:"blue darken-2",height:"70",app:""}},[n("span",{staticClass:"white--text"},[t._v("© "+t._s(t.oldYear))])])],1)},staticRenderFns:[]};var b={name:"App",components:{shablon:n("VU/8")(x,k,!1,function(t){n("Fu0e")},null,null).exports,login:_},methods:{isAuthenticated:function(){return this.$store.commit("isAuthenticated"),0==this.$store.state.authenticated.isAuthenticated?"login":"shablon"}},data:function(){return{}}},S={render:function(){var t=this.$createElement,e=this._self._c||t;return e("keep-alive",[e(this.isAuthenticated(),{tag:"component"})],1)},staticRenderFns:[]};var w=n("VU/8")(b,S,!1,function(t){n("8mW2")},null,null).exports,y=n("/ocq"),E={data:function(){return{issue:null}},methods:{getIssue:function(){var t=this;h.getIssueForStatus().then(function(e){t.issue=e.data}).catch(function(t){console.log(t)})},dateConvert:function(t){if(null!=t){var e=new Date(Date.parse(t,"dd/MM/yyyy"));return e.getDate()+"-"+(e.getMonth()+1)+"-"+e.getFullYear()+" "+e.getHours()+":"+e.getMinutes()}return""}},created:function(){this.getIssue()}},C={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-layout",{attrs:{row:"",wrap:""}},[t._l(t.issue,function(e,i){return[n("v-flex",{attrs:{xs4:""}},[n("v-card",[n("v-toolbar",{attrs:{color:"primary",dark:""}},[n("v-toolbar-title",[t._v(t._s(i))])],1),t._v(" "),n("center",[0==e.length?n("v-chip",{staticStyle:{color:"white","font-weight":"bold"},attrs:{color:"primary"}},[t._v("Запросов нет")]):t._e()],1),t._v(" "),n("v-list",{attrs:{"two-line":""}},[t._l(e,function(e){return[n("v-list-tile",{attrs:{avatar:""},on:{click:function(t){}}},[n("v-chip",[t._v(t._s(t.dateConvert(e.created)))]),t._v(" "),n("v-list-tile-content",[n("v-list-tile-title",{domProps:{innerHTML:t._s(e.theme)}}),t._v(" "),n("v-list-tile-sub-title",{domProps:{innerHTML:t._s(e.description)}})],1)],1)]})],2)],1)],1)]})],2)],1)},staticRenderFns:[]};var I=n("VU/8")(E,C,!1,function(t){n("xFI+")},null,null).exports,U={data:function(){return{statusStart:null,statusStop:null,status:null,statusSelectedStart:null,statusSelectedStop:null,configurationItem:null}},methods:{getConfiguration:function(){var t=this;h.getConfiguration().then(function(e){t.configurationItem=e.data,null!=e.data.issueStatusStart&&(t.statusStart=e.data.issueStatusStart.name,t.statusSelectedStart=e.data.issueStatusStart.id),null!=e.data.issueStatusClosed&&(t.statusStop=e.data.issueStatusClosed.name,t.statusSelectedStop=e.data.issueStatusClosed.id)}).catch(function(t){console.log(t)})},edit:function(){this.getStatus(),this.dialogEdit=!0},editSucess:function(){var t=this,e={id:this.configurationItem.id,issueStatusStart:{id:this.statusSelectedStart},issueStatusClosed:{id:this.statusSelectedStop}};h.editConfiguration(e).then(function(e){t.getConfiguration(),t.dialogEdit=!1}).cath(function(t){console.log(t)})},editCancel:function(){this.dialogEdit=!1},getStatus:function(){var t=this;h.getStatus().then(function(e){t.status=e.data}).catch(function(t){console.log(t)})}},created:function(){this.getConfiguration()}},D={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-btn",{on:{click:t.edit}},[t._v("Изменить")]),t._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs4:""}},[n("v-subheader",[t._v("Этап создания запроса")])],1),t._v(" "),n("v-flex",{attrs:{xs8:""}},[n("v-text-field",{attrs:{readonly:""},model:{value:t.statusStart,callback:function(e){t.statusStart=e},expression:"statusStart"}})],1)],1),t._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs4:""}},[n("v-subheader",[t._v("Этап завершения запроса")])],1),t._v(" "),n("v-flex",{attrs:{xs8:""}},[n("v-text-field",{attrs:{readonly:""},model:{value:t.statusStop,callback:function(e){t.statusStop=e},expression:"statusStop"}})],1)],1),t._v(" "),n("v-dialog",{model:{value:t.dialogEdit,callback:function(e){t.dialogEdit=e},expression:"dialogEdit"}},[n("v-card",{staticStyle:{"text-align":"center"}},[n("v-select",{attrs:{items:t.status,"item-text":"name","item-value":"id",label:"Этап создания запроса"},model:{value:t.statusSelectedStart,callback:function(e){t.statusSelectedStart=e},expression:"statusSelectedStart"}}),t._v(" "),n("v-select",{attrs:{items:t.status,"item-text":"name","item-value":"id",label:"Этап завершения запроса"},model:{value:t.statusSelectedStop,callback:function(e){t.statusSelectedStop=e},expression:"statusSelectedStop"}}),t._v(" "),n("v-btn",{on:{click:t.editSucess}},[t._v("Сохранить")]),t._v(" "),n("v-btn",{on:{click:t.editCancel}},[t._v("Отмена")])],1)],1)],1)},staticRenderFns:[]};var W=n("VU/8")(U,D,!1,function(t){n("OXPJ")},"data-v-c7c0193e",null).exports,q={data:function(){return{issue:null,date:null,worker:[],workerSelected:null,workerEvents:null,issueItems:[],issueHeaders:[{text:"Номер",value:"id",align:"center"},{text:"Тема",value:"theme",align:"center"},{text:"Описание",value:"description",align:"center"},{text:"Статус",value:"issueStatus",align:"center"},{text:"Срок исполнения",value:"timeExecution",align:"center"},{text:"Дата создания",value:"created",align:"center"},{text:"Дата обновления",value:"update",align:"center"}]}},methods:{viewUniq:function(t){this.$router.push("/issue/"+t)},getWorker:function(){var t=this;h.getWorker().then(function(e){t.worker=e.data}).catch(function(t){})},getIssueForWorker:function(){},changeWorker:function(t){var e=this;h.getIssueForWorker(t).then(function(t){console.log(t.data),e.workerEvents=[],t.data.forEach(function(t){var n=new Date(t.timeExecution);e.workerEvents.push(n.toISOString().substr(0,10))}),e.issueItems=t.data}).catch(function(t){console.log(t)})},dateConvert:function(t){if(null!=t){var e=new Date(Date.parse(t,"dd/MM/yyyy"));return e.getDate()+"-"+(e.getMonth()+1)+"-"+e.getFullYear()}return""},dateTimeConvert:function(t){if(null!=t){var e=new Date(Date.parse(t,"dd/MM/yyyy"));return e.getDate()+"-"+(e.getMonth()+1)+"-"+e.getFullYear()+" "+e.getHours()+":"+e.getMinutes()}return""},create:function(){this.$router.push("/createIssue")}},created:function(){this.getWorker()}},P={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{attrs:{row:"",id:"print"}},[n("v-flex",{attrs:{xs4:""}},[n("v-select",{attrs:{items:t.worker,label:"Работник","item-value":"id","item-text":"fullName",autocomplete:""},on:{change:t.changeWorker},model:{value:t.workerSelected,callback:function(e){t.workerSelected=e},expression:"workerSelected"}})],1),t._v(" "),n("v-flex",{attrs:{xs8:""}},[n("v-date-picker",{attrs:{locale:"ru_RU","full-width":"",landscape:"",events:t.workerEvents,"event-color":"red lighten-1"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),t._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs1:""}},[null!=t.workerSelected?n("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.create()}}},[t._v("Создать")]):t._e()],1),t._v(" "),n("v-flex",{attrs:{xs10:""}},[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.issueHeaders,items:t.issueItems,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[n("td",{staticClass:"text-xs-center",staticStyle:{"font-weight":"bold"}},[n("v-btn",{attrs:{depressed:"",color:"primary"},on:{click:function(n){t.viewUniq(e.item.id)}}},[t._v(t._s("ЗАПРОС-"+e.item.id))])],1),t._v(" "),n("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.theme))]),t._v(" "),n("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.description))]),t._v(" "),n("td",{staticClass:"text-xs-left"},[t._v(t._s(null!=e.item.issueStatus?e.item.issueStatus.name:""))]),t._v(" "),n("td",{staticClass:"text-xs-left"},[t._v(t._s(t.dateConvert(e.item.timeExecution)))]),t._v(" "),n("td",{staticClass:"text-xs-left"},[t._v(t._s(t.dateTimeConvert(e.item.created)))]),t._v(" "),n("td",{staticClass:"text-xs-left"},[t._v(t._s(t.dateTimeConvert(e.item.update)))])]}}])},[n("template",{slot:"no-data"},[n("v-alert",{attrs:{value:!0,color:"success"}},[t._v("\n            Запросов на исполнение нет\n          ")])],1)],2)],1)],1)],1)},staticRenderFns:[]};var N=n("VU/8")(q,P,!1,function(t){n("1aAT")},null,null).exports,$={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var F=n("VU/8")({data:function(){return{}},methods:{},created:function(){}},$,!1,function(t){n("rrMh")},null,null).exports,R={data:function(){return{items:[],headers:[{text:"Номер",value:"id",align:"center"},{text:"Тема",value:"theme",align:"center"},{text:"Описание",value:"description",align:"center"},{text:"Статус",value:"issueStatus",align:"center"},{text:"Исполнитель",value:"worker",align:"center"},{text:"Срок исполнения",value:"timeExecution",align:"center"},{text:"Оператор",value:"user",align:"center"},{text:"Дата создания",value:"created",align:"center"},{text:"Дата обновления",value:"update",align:"center"},{text:"Действия"}],selectItem:null,dialogDel:!1,dialogEdit:!1,fio:"",phone:"",address:"",theme:"",description:"",issueStatus:"",status:null,statusSelected:null,worker:null,workerSelected:null,timeExecution:null,date:null,menu2:null}},methods:{viewUniq:function(t){this.$router.push("/issue/"+t)},getIssue:function(){var t=this;h.getIssue().then(function(e){t.items=e.data}).catch(function(e){t.items=e})},create:function(){this.$router.push("/createIssue")},remove:function(t){this.selectedItem=t,this.dialogDel=!0},removeSucces:function(){var t=this;h.removeIssue(this.selectedItem.id).then(function(e){t.getIssue(),t.dialogDel=!1}).catch(function(t){console.log(t)})},removeCancel:function(){this.dialogDel=!1},edit:function(t){var e=this;this.selectedItem=t,this.fio=this.selectedItem.fio,this.phone=this.selectedItem.phone,this.address=this.selectedItem.address,this.theme=this.selectedItem.theme,this.description=this.selectedItem.description,h.getStatus().then(function(t){e.status=t.data}).catch(function(t){console.log(t)}),h.getWorker().then(function(t){e.worker=t.data}),null!=this.selectedItem.issueStatus&&(this.statusSelected=this.selectedItem.issueStatus.id),null!=this.selectedItem.worker&&(this.workerSelected=this.selectedItem.worker.id),this.timeExecution=this.selectedItem.timeExecution,this.dialogEdit=!0},editSucess:function(){var t=this,e={id:this.selectedItem.id,fio:this.fio,phone:this.phone,address:this.address,theme:this.theme,created:this.selectedItem.created,description:this.description,issueStatus:null!=this.statusSelected?{id:this.statusSelected}:null,worker:null!=this.workerSelected?{id:this.workerSelected}:null,timeExecution:null!=this.timeExecution?new Date(this.timeExecution):null};console.log(this.selectedItem),h.editIssue(e).then(function(e){t.getIssue(),t.dialogEdit=!1})},editCancel:function(){this.dialogEdit=!1},dateTimeConvert:function(t){if(null!=t){var e=new Date(Date.parse(t,"dd/MM/yyyy"));return e.getDate()+"-"+(e.getMonth()+1)+"-"+e.getFullYear()+" "+e.getHours()+":"+e.getMinutes()}return""},dateConvert:function(t){if(null!=t){var e=new Date(Date.parse(t,"dd/MM/yyyy"));return e.getDate()+"-"+(e.getMonth()+1)+"-"+e.getFullYear()}return""}},created:function(){this.getIssue()}},A={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[[n("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.create()}}},[t._v("Создать")]),t._v(" "),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.items,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[n("td",{staticClass:"text-xs-center",staticStyle:{"font-weight":"bold"}},[n("v-btn",{attrs:{depressed:"",color:"primary"},on:{click:function(n){t.viewUniq(e.item.id)}}},[t._v(t._s("ЗАПРОС-"+e.item.id))])],1),t._v(" "),n("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.theme))]),t._v(" "),n("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.description))]),t._v(" "),n("td",{staticClass:"text-xs-left"},[t._v(t._s(null!=e.item.issueStatus?e.item.issueStatus.name:""))]),t._v(" "),n("td",{staticClass:"text-xs-left"},[t._v(t._s(null!=e.item.worker?e.item.worker.fullName:""))]),t._v(" "),n("td",{staticClass:"text-xs-left"},[t._v(t._s(t.dateConvert(e.item.timeExecution)))]),t._v(" "),n("td",{staticClass:"text-xs-left"},[t._v(t._s(null!=e.item.user?e.item.user.login:""))]),t._v(" "),n("td",{staticClass:"text-xs-left"},[t._v(t._s(t.dateTimeConvert(e.item.created)))]),t._v(" "),n("td",{staticClass:"text-xs-left"},[t._v(t._s(t.dateTimeConvert(e.item.update)))]),t._v(" "),n("td",{staticClass:"text-xs-center"},[n("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(n){t.remove(e.item)}}},[n("v-icon",{attrs:{dark:""}},[t._v("remove")])],1),t._v(" "),n("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(n){t.edit(e.item)}}},[n("v-icon",{attrs:{dark:""}},[t._v("edit")])],1)],1)]}}])},[n("template",{slot:"no-data"},[n("v-alert",{attrs:{value:!0,color:"success"}},[t._v("\n          Данных нет\n        ")])],1)],2),t._v(" "),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDel,callback:function(e){t.dialogDel=e},expression:"dialogDel"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("Удаление запроса")]),t._v(" "),n("v-card-text",[t._v("Подтвердите удаление")]),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"primary"},on:{click:t.removeSucces}},[t._v("Удалить")]),t._v(" "),n("v-btn",{on:{click:t.removeCancel}},[t._v("Отмена")])],1)],1)],1),t._v(" "),n("v-dialog",{model:{value:t.dialogEdit,callback:function(e){t.dialogEdit=e},expression:"dialogEdit"}},[n("v-card",[n("v-form",{staticStyle:{"text-align":"center"}},[n("v-text-field",{attrs:{label:"ФИО жильца"},model:{value:t.fio,callback:function(e){t.fio=e},expression:"fio"}}),t._v(" "),n("v-text-field",{attrs:{label:"Телефон жильца"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),t._v(" "),n("v-text-field",{attrs:{label:"Адрес жильца"},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}}),t._v(" "),n("v-text-field",{attrs:{label:"Тема"},model:{value:t.theme,callback:function(e){t.theme=e},expression:"theme"}}),t._v(" "),n("v-text-field",{attrs:{label:"Описание",textarea:""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),t._v(" "),n("v-select",{attrs:{items:t.status,"item-text":"name","item-value":"id",label:"Статус"},model:{value:t.statusSelected,callback:function(e){t.statusSelected=e},expression:"statusSelected"}}),t._v(" "),n("v-select",{attrs:{items:t.worker,"item-text":"fullName","item-value":"id",label:"Исполнитель"},model:{value:t.workerSelected,callback:function(e){t.workerSelected=e},expression:"workerSelected"}}),t._v(" "),n("v-menu",{ref:"menu2",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.date,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.date=e}},model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[n("v-text-field",{attrs:{slot:"activator",label:"Срок исполнения","prepend-icon":"event",readonly:""},slot:"activator",model:{value:t.timeExecution,callback:function(e){t.timeExecution=e},expression:"timeExecution"}}),t._v(" "),n("v-date-picker",{on:{input:function(e){t.$refs.menu2.save(t.date)}},model:{value:t.timeExecution,callback:function(e){t.timeExecution=e},expression:"timeExecution"}})],1),t._v(" "),n("v-btn",{on:{click:t.editSucess}},[t._v("Сохранить")]),t._v(" "),n("v-btn",{on:{click:t.editCancel}},[t._v("Отмена")])],1)],1)],1)]],2)},staticRenderFns:[]};var M=n("VU/8")(R,A,!1,function(t){n("A1ul")},"data-v-1ccc4874",null).exports,O={data:function(){return{theme:"",description:"",worker:[],selectWorker:null,address:"",phone:"",fio:"",timeExecution:null,menu2:null,date:null}},methods:{getWorker:function(){var t=this;h.getWorker().then(function(e){t.worker=e.data}).catch(function(e){t.items=e})},save:function(){var t=this,e={fio:this.fio,phone:this.phone,address:this.address,theme:this.theme,description:this.description,timeExecution:null!=this.timeExecution?new Date(this.timeExecution):null,worker:null!=this.selectWorker?{id:this.selectWorker}:null};h.createIssue(e).then(function(e){t.$router.push("/issue")}).catch(function(e){console.log(e),t.$router.push("/issue")})}},created:function(){this.getWorker()}},V={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[n("v-form",{staticClass:"text-xs-center"},[n("v-text-field",{attrs:{label:"Имя жильца"},model:{value:t.fio,callback:function(e){t.fio=e},expression:"fio"}}),t._v(" "),n("v-text-field",{attrs:{label:"Телефон жильца"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),t._v(" "),n("v-text-field",{attrs:{label:"Адрес жильца"},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}}),t._v(" "),n("v-text-field",{attrs:{label:"Тема"},model:{value:t.theme,callback:function(e){t.theme=e},expression:"theme"}}),t._v(" "),n("v-text-field",{attrs:{label:"Описание",textarea:""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),t._v(" "),n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs6:""}},[n("v-select",{attrs:{items:t.worker,label:"Исполнители","item-value":"id","item-text":"fullName"},model:{value:t.selectWorker,callback:function(e){t.selectWorker=e},expression:"selectWorker"}})],1),t._v(" "),n("v-flex",{attrs:{xs6:""}},[n("v-menu",{ref:"menu2",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":t.date,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},on:{"update:returnValue":function(e){t.date=e}},model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[n("v-text-field",{attrs:{slot:"activator",label:"Срок исполнения","prepend-icon":"event",readonly:""},slot:"activator",model:{value:t.timeExecution,callback:function(e){t.timeExecution=e},expression:"timeExecution"}}),t._v(" "),n("v-date-picker",{on:{input:function(e){t.$refs.menu2.save(t.date)}},model:{value:t.timeExecution,callback:function(e){t.timeExecution=e},expression:"timeExecution"}})],1)],1)],1),t._v(" "),n("v-btn",{on:{click:function(e){t.save()}}},[t._v("Сохранить")])],1)],1)],1)},staticRenderFns:[]};var T=n("VU/8")(O,V,!1,function(t){n("tgYr")},"data-v-2ee3b757",null).exports,H={data:function(){return{theme:"",description:"",worker:[],selectWorker:null,address:"",phone:"",fio:"",selectItem:null,timeExecution:null,decision:null,issueStatus:null,configuration:null,eventVisible:!1,dialogEditStatus:!1,selectNowStatus:null,status:null,isDecision:!1,dialogEditWorker:!1,selectWorkerEdit:null}},methods:{getWorker:function(){var t=this;h.getWorker().then(function(e){t.worker=e.data}).catch(function(e){t.items=e})},save:function(){var t=this,e={fio:this.fio,phone:this.phone,address:this.address,theme:this.theme,description:this.description,worker:null!=this.selectWorker?{id:this.selectWorker}:null};h.createIssue(e).then(function(e){t.$router.push("/")}).catch(function(t){console.log(t)})},dateTimeConvert:function(t){if(null!=t){var e=new Date(Date.parse(t,"dd/MM/yyyy"));return e.getDate()+"-"+(e.getMonth()+1)+"-"+e.getFullYear()+" "+e.getHours()+":"+e.getMinutes()}return""},dateConvert:function(t){if(null!=t){var e=new Date(Date.parse(t,"dd/MM/yyyy"));return e.getDate()+"-"+(e.getMonth()+1)+"-"+e.getFullYear()}return""},getConfiguration:function(){var t=this;h.getConfiguration().then(function(e){t.configuration=e.data,null!=e.data.issueStatusClosed&&(t.issueStatus!=e.data.issueStatusClosed.name?t.eventVisible=!0:t.eventVisible=!1)}).catch(function(t){console.log(t)})},getStatus:function(){var t=this;h.getStatusnotStart().then(function(e){t.status=e.data}).catch(function(t){console.log(t)})},editIssueStatus:function(){this.getStatus(),this.dialogEditStatus=!0},editStatusSuccess:function(){var t=this;null!=this.configuration.issueStatusClosed&&(this.selectNowStatus==this.configuration.issueStatusClosed.id?h.issueClosed(this.$route.params.id,this.decision).then(function(e){t.init(),t.dialogEditStatus=!1}).catch(function(e){console.log(e),t.init(),t.dialogEditStatus=!1}):h.issueEditStatus(this.$route.params.id,this.selectNowStatus).then(function(e){t.dialogEditStatus=!1,t.init()}).catch(function(e){console.log(e),t.init(),t.dialogEditStatus=!1}))},editStatusCancel:function(){this.dialogEditStatus=!1},changeStatus:function(t){null!=this.configuration.issueStatusClosed&&(t==this.configuration.issueStatusClosed.id?this.isDecision=!0:this.isDecision=!1)},init:function(){var t=this;h.getIssueUniq(this.$route.params.id).then(function(e){t.selectItem=e.data,t.theme=t.selectItem.theme,t.description=t.selectItem.description,t.selectWorker=t.selectItem.worker,null!=t.selectItem.worker&&(t.selectWorkerEdit=t.selectItem.worker.id),t.address=t.selectItem.address,t.phone=t.selectItem.phone,t.fio=t.selectItem.fio,t.timeExecution=t.dateConvert(t.selectItem.timeExecution),t.decision=t.selectItem.decision,t.issueStatus=t.selectItem.issueStatus.name,t.getConfiguration()}).catch(function(t){console.log(t)})},editWorker:function(){this.getWorker(),this.dialogEditWorker=!0},editWorkerSuccess:function(){var t=this;h.issueEditWorker(this.$route.params.id,this.selectWorkerEdit).then(function(e){t.init(),t.dialogEditWorker=!1}).catch(function(e){console.log(e),t.init(),t.dialogEditWorker=!1})},editWorkerCancel:function(){this.dialogEditWorker=!1},print:function(){var t=document.getElementById("print"),e=window.open("","","left=50,top=50,width=800,height=640,toolbar=0,scrollbars=1,status=0");e.document.write('<div id="print" class="contentpane">'),e.document.write(t.innerHTML),e.document.write("</div>"),e.document.close(),e.focus(),e.print(),e.close(),t.innerHTML=strOldOne}},created:function(){this.init()}},Y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.eventVisible?[n("v-btn",{on:{click:t.editIssueStatus}},[t._v("Сменить состояние")]),t._v(" "),n("v-btn",{on:{click:t.editWorker}},[t._v("Изменить ответственного")])]:t._e(),t._v(" "),n("v-btn",{on:{click:t.print}},[t._v("Распечатать")]),t._v(" "),n("v-layout",{attrs:{row:"",id:"print"}},[n("v-flex",{attrs:{xs8:""}},[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs4:""}},[n("v-subheader",[t._v("Тема")])],1),t._v(" "),n("v-flex",{attrs:{xs8:""}},[n("v-text-field",{attrs:{readonly:""},model:{value:t.theme,callback:function(e){t.theme=e},expression:"theme"}})],1)],1),t._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs4:""}},[n("v-subheader",[t._v("Описание")])],1),t._v(" "),n("v-flex",{attrs:{xs8:""}},[n("v-text-field",{attrs:{textarea:"",readonly:""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)],1),t._v(" "),n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{xs4:""}},[n("v-subheader",[t._v("Решение")])],1),t._v(" "),n("v-flex",{attrs:{xs8:""}},[n("v-text-field",{attrs:{textarea:"",readonly:""},model:{value:t.decision,callback:function(e){t.decision=e},expression:"decision"}})],1)],1)],1),t._v(" "),n("v-flex",{attrs:{xs4:""}},[n("v-text-field",{attrs:{label:"Статус",readonly:""},model:{value:t.issueStatus,callback:function(e){t.issueStatus=e},expression:"issueStatus"}}),t._v(" "),n("v-text-field",{attrs:{label:"Имя жильца",readonly:""},model:{value:t.fio,callback:function(e){t.fio=e},expression:"fio"}}),t._v(" "),n("v-text-field",{attrs:{label:"Телефон жильца",readonly:""},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),t._v(" "),n("v-text-field",{attrs:{label:"Адрес жильца",readonly:""},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}}),t._v(" "),n("v-select",{attrs:{items:t.worker,label:"Исполнитель","item-value":"id","item-text":"fullName",readonly:""},model:{value:t.selectWorker,callback:function(e){t.selectWorker=e},expression:"selectWorker"}}),t._v(" "),n("v-text-field",{attrs:{label:"Срок исполнения",readonly:""},model:{value:t.timeExecution,callback:function(e){t.timeExecution=e},expression:"timeExecution"}})],1)],1),t._v(" "),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogEditStatus,callback:function(e){t.dialogEditStatus=e},expression:"dialogEditStatus"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("Смена состояния")]),t._v(" "),n("v-select",{attrs:{items:t.status,"item-text":"name","item-value":"id",label:"Новое состояние",chips:"","persistent-hint":""},on:{change:t.changeStatus},model:{value:t.selectNowStatus,callback:function(e){t.selectNowStatus=e},expression:"selectNowStatus"}}),t._v(" "),n("v-text-field",{directives:[{name:"show",rawName:"v-show",value:t.isDecision,expression:"isDecision"}],attrs:{multiLine:"",label:"Введите решение"},model:{value:t.decision,callback:function(e){t.decision=e},expression:"decision"}}),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"primary"},on:{click:t.editStatusSuccess}},[t._v("Сохранить")]),t._v(" "),n("v-btn",{on:{click:t.editStatusCancel}},[t._v("Отмена")])],1)],1)],1),t._v(" "),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogEditWorker,callback:function(e){t.dialogEditWorker=e},expression:"dialogEditWorker"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("Смена исполнителя")]),t._v(" "),n("v-select",{attrs:{items:t.worker,"item-text":"fullName","item-value":"id",label:"Выберите нового исполнителя",chips:"","persistent-hint":""},model:{value:t.selectWorkerEdit,callback:function(e){t.selectWorkerEdit=e},expression:"selectWorkerEdit"}}),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"primary"},on:{click:t.editWorkerSuccess}},[t._v("Сохранить")]),t._v(" "),n("v-btn",{on:{click:t.editWorkerCancel}},[t._v("Отмена")])],1)],1)],1)],2)},staticRenderFns:[]};var z=n("VU/8")(H,Y,!1,function(t){n("mDQp")},"data-v-72f254d0",null).exports,L={data:function(){return{items:[],headers:[{text:"ФИО",value:"theme",sortable:!1,align:"center"},{text:"Телефон",value:"description",align:"center"},{text:"Должность",value:"issueStatus",align:"center"},{text:"Действия",align:"center"}],dialogEdit:!1,dialogDel:!1,selectedItem:null,fio:"",phone:"",positionsSelected:"",positions:null}},methods:{getPositions:function(){var t=this;h.getPosition().then(function(e){t.positions=e.data,t.positionsSelected=t.selectedItem.position.map(function(t){return t.id})}).catch(function(t){console.log(t)})},create:function(){this.$router.push("/createWorker")},removeSucces:function(){var t=this;h.removeWorker(this.selectedItem.id).then(function(e){t.getWorker(),t.dialogDel=!1}).catch(function(t){console.log(t)})},removeCancel:function(){this.dialogDel=!1},editSucess:function(){var t=this,e={id:this.selectedItem.id,fullName:this.fio,phone:this.phone,position:this.positionsSelected.map(function(t,e,n){return{id:t}})};h.createWorker(e).then(function(e){t.getWorker(),t.dialogEdit=!1}).catch(function(t){console.log(t)})},editCancel:function(){this.dialogEdit=!1},remove:function(t){this.selectedItem=t,this.dialogDel=!0},edit:function(t){this.selectedItem=t,this.dialogEdit=!0,this.fio=this.selectedItem.fullName,this.phone=this.selectedItem.phone,this.getPositions()},getWorker:function(){var t=this;h.getWorker().then(function(e){t.items=e.data}).catch(function(e){t.items=e})}},created:function(){this.getWorker()}},j={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[[n("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.create()}}},[t._v("Создать")]),t._v(" "),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.items,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[n("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.fullName))]),t._v(" "),n("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.phone))]),t._v(" "),n("td",{staticClass:"text-xs-left"},t._l(e.item.position,function(e){return n("label",[t._v(t._s(e.name)),n("br")])})),t._v(" "),n("td",{staticClass:"text-xs-center"},[n("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(n){t.remove(e.item)}}},[n("v-icon",{attrs:{dark:""}},[t._v("remove")])],1),t._v(" "),n("v-btn",{attrs:{fab:"",dark:"",small:"",color:"cyan"},on:{click:function(n){t.edit(e.item)}}},[n("v-icon",{attrs:{dark:""}},[t._v("edit")])],1)],1)]}}])},[n("template",{slot:"no-data"},[n("v-alert",{attrs:{value:!0,color:"success"}},[t._v("\n          Данных нет\n        ")])],1)],2),t._v(" "),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDel,callback:function(e){t.dialogDel=e},expression:"dialogDel"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("Удаление сотрудника")]),t._v(" "),n("v-card-text",[t._v("Подтвердите удаление")]),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"primary"},on:{click:t.removeSucces}},[t._v("Удалить")]),t._v(" "),n("v-btn",{on:{click:t.removeCancel}},[t._v("Отмена")])],1)],1)],1),t._v(" "),n("v-dialog",{model:{value:t.dialogEdit,callback:function(e){t.dialogEdit=e},expression:"dialogEdit"}},[n("v-card",[n("v-form",{staticStyle:{"text-align":"center"}},[n("v-text-field",{attrs:{label:"ФИО"},model:{value:t.fio,callback:function(e){t.fio=e},expression:"fio"}}),t._v(" "),n("v-text-field",{attrs:{label:"Телефон",textarea:""},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),t._v(" "),n("v-select",{attrs:{items:t.positions,"item-text":"name","item-value":"id",label:"Должность",multiple:"",chips:""},model:{value:t.positionsSelected,callback:function(e){t.positionsSelected=e},expression:"positionsSelected"}}),t._v(" "),n("v-btn",{on:{click:t.editSucess}},[t._v("Сохранить")]),t._v(" "),n("v-btn",{on:{click:t.editCancel}},[t._v("Отмена")])],1)],1)],1)]],2)},staticRenderFns:[]};var Q=n("VU/8")(L,j,!1,function(t){n("CYFP")},"data-v-39bd5aef",null).exports,B={data:function(){return{fio:"",phone:"",positions:[],positionsSelected:[]}},methods:{getPositions:function(){var t=this;h.getPosition().then(function(e){t.positions=e.data}).catch(function(t){console.log(t)})},save:function(){var t=this,e={fullName:this.fio,phone:this.phone,position:this.positionsSelected.map(function(t,e,n){return{id:t}})};h.createWorker(e).then(function(e){t.$router.push("/worker")}).catch(function(t){console.log(t)})}},created:function(){this.getPositions()}},J={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-form",{staticStyle:{"text-align":"center"}},[n("v-text-field",{attrs:{label:"ФИО"},model:{value:t.fio,callback:function(e){t.fio=e},expression:"fio"}}),t._v(" "),n("v-text-field",{attrs:{label:"Телефон",textarea:""},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),t._v(" "),n("v-select",{attrs:{items:t.positions,"item-text":"name","item-value":"id",label:"Должность",multiple:"",chips:"","persistent-hint":""},model:{value:t.positionsSelected,callback:function(e){t.positionsSelected=e},expression:"positionsSelected"}}),t._v(" "),n("v-btn",{on:{click:t.save}},[t._v("Сохранить")])],1)],1)},staticRenderFns:[]};var X=n("VU/8")(B,J,!1,function(t){n("Uyj1")},"data-v-a645eeb6",null).exports,G={data:function(){return{dialogEdit:!1,dialogDel:!1,items:[],selectedItem:null,newName:"",newDescription:"",headers:[{text:"Имя",value:"name",sortable:!1,align:"center"},{text:"Описание",value:"description",align:"center"},{text:"Действия",align:"center"}]}},methods:{create:function(){this.$router.push("/createPosition")},get:function(){var t=this;h.getPosition().then(function(e){t.items=e.data}).catch(function(e){t.items=e})},remove:function(t){this.selectedItem=t,this.dialogDel=!0},removeSucces:function(){var t=this;this.dialogDel=!1,h.removePosition(this.selectedItem.id).then(function(e){t.get()})},removeCancel:function(){this.dialogDel=!1},editSucess:function(){var t=this;this.dialogEdit=!1,h.editPosition(this.selectedItem.id,this.newName,this.newDescription).then(function(e){t.get()})},editCancel:function(){this.dialogEdit=!1},edit:function(t){this.selectedItem=t,this.newName=this.selectedItem.name,this.newDescription=this.selectedItem.description,this.dialogEdit=!0}},created:function(){this.get()}},K={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.create()}}},[t._v("Создать")]),t._v(" "),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.items,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[n("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.name))]),t._v(" "),n("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.description))]),t._v(" "),n("td",{staticClass:"text-xs-center"},[n("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(n){t.remove(e.item)}}},[n("v-icon",{attrs:{dark:""}},[t._v("remove")])],1),t._v(" "),n("v-btn",{attrs:{fab:"",dark:"",small:"",color:"cyan"},on:{click:function(n){t.edit(e.item)}}},[n("v-icon",{attrs:{dark:""}},[t._v("edit")])],1)],1)]}}])},[n("template",{slot:"no-data"},[n("v-alert",{attrs:{value:!0,color:"success"}},[t._v("\n        Данных нет\n      ")])],1)],2),t._v(" "),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDel,callback:function(e){t.dialogDel=e},expression:"dialogDel"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("Удаление должности")]),t._v(" "),n("v-card-text",[t._v("Подтвердите удаление")]),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"primary"},on:{click:t.removeSucces}},[t._v("Удалить")]),t._v(" "),n("v-btn",{on:{click:t.removeCancel}},[t._v("Отмена")])],1)],1)],1),t._v(" "),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogEdit,callback:function(e){t.dialogEdit=e},expression:"dialogEdit"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("Изменение должности")]),t._v(" "),n("v-card-text",[n("v-text-field",{attrs:{label:"Введите новое имя"},model:{value:t.newName,callback:function(e){t.newName=e},expression:"newName"}}),t._v(" "),n("v-text-field",{attrs:{label:"Введите новое описание"},model:{value:t.newDescription,callback:function(e){t.newDescription=e},expression:"newDescription"}})],1),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"primary"},on:{click:t.editSucess}},[t._v("Изменить")]),t._v(" "),n("v-btn",{on:{click:t.editSucess}},[t._v("Отмена")])],1)],1)],1)],1)},staticRenderFns:[]};var Z=n("VU/8")(G,K,!1,function(t){n("/9eV")},"data-v-3621ff32",null).exports,tt={data:function(){return{theme:"",description:""}},methods:{create:function(){var t=this;h.createPosition(this.name,this.description).then(function(e){t.$router.push("/position")}).catch(function(t){console.log(t)})}}},et={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-form",{staticStyle:{"text-align":"center"}},[n("v-text-field",{attrs:{label:"Имя"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),n("v-text-field",{attrs:{label:"Описание",textarea:""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),t._v(" "),n("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.create()}}},[t._v("Создать")])],1)],1)},staticRenderFns:[]};var nt=n("VU/8")(tt,et,!1,function(t){n("M2Wt")},"data-v-b5e45e00",null).exports,it={data:function(){return{items:[],headers:[{text:"Наименование",value:"name",sortable:!1,align:"center"},{text:"Описание",value:"description",align:"center"},{text:"Действия",align:"center"}],dialogEdit:!1,dialogDel:!1,selectedItem:null,name:"",description:""}},methods:{create:function(){this.$router.push("/createStatus")},remove:function(t){this.selectedItem=t,this.dialogDel=!0},edit:function(t){this.selectedItem=t,this.name=this.selectedItem.name,this.description=this.selectedItem.description,this.dialogEdit=!0},editSucess:function(){var t=this;h.editStatus({id:this.selectedItem.id,name:this.name,description:this.description}).then(function(e){t.getStatus(),t.dialogEdit=!1}).catch(function(t){console.log(t)})},editCancel:function(){this.dialogEdit=!1},removeSucces:function(){var t=this;h.removeStatus(this.selectedItem.id).then(function(e){t.getStatus(),t.dialogDel=!1}).catch(function(t){console.log(t)})},removeCancel:function(){this.dialogDel=!1},getStatus:function(){var t=this;h.getStatus().then(function(e){t.items=e.data}).catch(function(t){console.log(t)})}},created:function(){this.getStatus()}},st={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[[n("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.create()}}},[t._v("Создать")]),t._v(" "),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.items,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[n("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.name))]),t._v(" "),n("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.description))]),t._v(" "),n("td",{staticClass:"text-xs-center"},[n("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(n){t.remove(e.item)}}},[n("v-icon",{attrs:{dark:""}},[t._v("remove")])],1),t._v(" "),n("v-btn",{attrs:{fab:"",dark:"",small:"",color:"cyan"},on:{click:function(n){t.edit(e.item)}}},[n("v-icon",{attrs:{dark:""}},[t._v("edit")])],1)],1)]}}])},[n("template",{slot:"no-data"},[n("v-alert",{attrs:{value:!0,color:"success"}},[t._v("\n          Данных нет\n        ")])],1)],2),t._v(" "),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDel,callback:function(e){t.dialogDel=e},expression:"dialogDel"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("Удаление сотрудника")]),t._v(" "),n("v-card-text",[t._v("Подтвердите удаление")]),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"primary"},on:{click:t.removeSucces}},[t._v("Удалить")]),t._v(" "),n("v-btn",{on:{click:t.removeCancel}},[t._v("Отмена")])],1)],1)],1),t._v(" "),n("v-dialog",{model:{value:t.dialogEdit,callback:function(e){t.dialogEdit=e},expression:"dialogEdit"}},[n("v-card",[n("v-form",{staticStyle:{"text-align":"center"}},[n("v-text-field",{attrs:{label:"Наименование"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),n("v-text-field",{attrs:{label:"Описание",textarea:""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),t._v(" "),n("v-btn",{on:{click:t.editSucess}},[t._v("Сохранить")]),t._v(" "),n("v-btn",{on:{click:t.editCancel}},[t._v("Отмена")])],1)],1)],1)]],2)},staticRenderFns:[]};var at=n("VU/8")(it,st,!1,function(t){n("BBbn")},"data-v-1f6368dc",null).exports,ot={data:function(){return{name:"",description:""}},methods:{save:function(){var t=this,e={name:this.name,description:this.description};h.createStatus(e).then(function(e){t.$router.push("/status")}).catch(function(t){console.log(t)})}}},lt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-form",{staticStyle:{"text-align":"center"}},[n("v-text-field",{attrs:{label:"Наименование"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),n("v-text-field",{attrs:{label:"Описание",textarea:""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),t._v(" "),n("v-btn",{on:{click:t.save}},[t._v("Сохранить")])],1)],1)},staticRenderFns:[]};var rt=n("VU/8")(ot,lt,!1,function(t){n("fviH")},"data-v-b77655d6",null).exports,ct={data:function(){return{items:[],headers:[{text:"Логин",value:"login",align:"center"},{text:"Полное имя",value:"full_name",align:"center"},{text:"Роль",value:"role",align:"center"},{text:"Действия"}],selectItem:null,dialogDel:!1,dialogEdit:!1,deleteError:!1,login:"",fullName:"",selectRole:null,role:null}},methods:{getOperator:function(){var t=this;h.getOperator().then(function(e){t.items=e.data}).catch(function(t){console.log(t)})},getRole:function(){var t=this;h.getRole().then(function(e){t.role=e.data}).catch(function(t){console.log(t)})},create:function(){this.$router.push("/createOperator")},remove:function(t){this.selectedItem=t,this.dialogDel=!0},removeSucces:function(){var t=this;h.removeOperator(this.selectedItem.uid).then(function(e){t.getOperator(),t.dialogDel=!1}).catch(function(e){console.log(e),409==e.request.status&&(t.deleteError=!0),t.dialogDel=!1})},removeCancel:function(){this.dialogDel=!1},edit:function(t){this.selectedItem=t,this.getRole(),this.login=this.selectedItem.login,this.fullName=this.selectedItem.fullName,this.selectRole=this.selectedItem.role,this.dialogEdit=!0},editSucess:function(){var t=this,e={uid:this.selectedItem.uid,login:this.login,fullName:this.fullName,role:null!=this.selectRole?this.selectRole.map(function(t){return{id:t.id}}):null};h.editOperator(e).then(function(e){t.dialogEdit=!1,t.getOperator()}).cath(function(t){console.log(t)})},editCancel:function(){this.dialogEdit=!1}},created:function(){this.getOperator()}},ut={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.create()}}},[t._v("Создать")]),t._v(" "),n("v-alert",{attrs:{value:t.deleteError,type:"error"}},[t._v("\n    Ошибка удаления.   К оператору привязаны запросы\n  ")]),t._v(" "),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.items,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[n("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.login))]),t._v(" "),n("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.fullName))]),t._v(" "),n("td",{staticClass:"text-xs-left"},[t._l(e.item.role,function(e){return[t._v("\n          "+t._s(e.name)+"\n        ")]})],2),t._v(" "),n("td",{staticClass:"text-xs-center"},[n("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(n){t.remove(e.item)}}},[n("v-icon",{attrs:{dark:""}},[t._v("remove")])],1),t._v(" "),n("v-btn",{attrs:{fab:"",dark:"",small:"",color:"primary"},on:{click:function(n){t.edit(e.item)}}},[n("v-icon",{attrs:{dark:""}},[t._v("edit")])],1)],1)]}}])}),t._v(" "),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDel,callback:function(e){t.dialogDel=e},expression:"dialogDel"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v("Удаление Оператора")]),t._v(" "),n("v-card-text",[t._v("Подтвердите удаление")]),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"primary"},on:{click:t.removeSucces}},[t._v("Удалить")]),t._v(" "),n("v-btn",{on:{click:t.removeCancel}},[t._v("Отмена")])],1)],1)],1),t._v(" "),n("v-dialog",{model:{value:t.dialogEdit,callback:function(e){t.dialogEdit=e},expression:"dialogEdit"}},[n("v-card",[n("v-form",{staticStyle:{"text-align":"center"}},[n("v-text-field",{attrs:{label:"Логин"},model:{value:t.login,callback:function(e){t.login=e},expression:"login"}}),t._v(" "),n("v-text-field",{attrs:{label:"Полное имя"},model:{value:t.fullName,callback:function(e){t.fullName=e},expression:"fullName"}}),t._v(" "),n("v-select",{attrs:{items:t.role,multiple:"","item-text":"name","item-value":"id",label:"Роль"},model:{value:t.selectRole,callback:function(e){t.selectRole=e},expression:"selectRole"}}),t._v(" "),n("v-btn",{on:{click:t.editSucess}},[t._v("Сохранить")]),t._v(" "),n("v-btn",{on:{click:t.editCancel}},[t._v("Отмена")])],1)],1)],1)],1)},staticRenderFns:[]};var dt=n("VU/8")(ct,ut,!1,function(t){n("ux7P")},null,null).exports,vt={data:function(){return{login:"",full_name:"",password:"",selectRole:[],role:null}},methods:{getRole:function(){var t=this;h.getRole().then(function(e){t.role=e.data,null!=t.role&&t.role.length>0&&t.selectRole.push(t.role[0].id)}).catch(function(t){console.log(t)})},save:function(){var t=this,e={login:this.login,password:this.password,fullName:this.full_name,role:null!=this.selectRole?this.selectRole.map(function(t){return{id:t}}):null};h.createOperator(e).then(function(e){t.$router.push("/operator")})}},created:function(){this.getRole()}},ft={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-form",{staticClass:"text-xs-center"},[n("v-text-field",{attrs:{label:"Логин"},model:{value:t.login,callback:function(e){t.login=e},expression:"login"}}),t._v(" "),n("v-text-field",{attrs:{label:"Имя пользователя"},model:{value:t.full_name,callback:function(e){t.full_name=e},expression:"full_name"}}),t._v(" "),n("v-text-field",{attrs:{label:"Пароль",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),n("v-select",{attrs:{items:t.role,label:"Роль",multiple:"","item-value":"id","item-text":"name"},model:{value:t.selectRole,callback:function(e){t.selectRole=e},expression:"selectRole"}}),t._v(" "),n("v-btn",{on:{click:function(e){t.save()}}},[t._v("Сохранить")])],1)],1)},staticRenderFns:[]};var mt=n("VU/8")(vt,ft,!1,function(t){n("SWyg")},"data-v-5b0fa925",null).exports;i.a.use(y.a);var ht=new y.a({routes:[{path:"/",name:"Index",component:I},{path:"/issue",name:"IssueView",component:M},{path:"/createIssue",name:"CreateIssue",component:T},{path:"/issue/:id",name:"IssueUniq",component:z},{path:"/worker",name:"Worker",component:Q},{path:"/createWorker",name:"CreateWorker",component:X},{path:"/position",name:"Position",component:Z},{path:"/createPosition",name:"CreatePosition",component:nt},{path:"/status",name:"Status",component:at},{path:"/createStatus",name:"CreateStatus",component:rt},{path:"/report",name:"Report",component:F},{path:"/schedule",name:"Shedule",component:N},{path:"/operator",name:"Operator",component:dt},{path:"/createOperator",name:"CreateOperator",component:mt},{path:"/baseConfiguration",name:"BaseConfiguration",component:W}]});ht.beforeResolve(function(t,e,n){f.commit("isAuthenticated"),n()});var pt=ht;i.a.config.productionTip=!1,i.a.use(a.a),NProgress.configure({showSpinner:!1}),new i.a({el:"#app",router:pt,store:f,components:{App:w},template:"<App/>"})},OXPJ:function(t,e){},SWyg:function(t,e){},Uyj1:function(t,e){},fviH:function(t,e){},mDQp:function(t,e){},rrMh:function(t,e){},tgYr:function(t,e){},ux7P:function(t,e){},"xFI+":function(t,e){},xIm6:function(t,e){}},[0]);
//# sourceMappingURL=main.843508ed073cb4e3f850.js.map